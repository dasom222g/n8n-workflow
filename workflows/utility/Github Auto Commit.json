{
  "name": "Github Auto Commit",
  "nodes": [
    {
      "parameters": {
        "guildIds": [
          "1466605247555174492"
        ],
        "categoryIds": [
          "1466605248238850220"
        ],
        "channelIds": [
          "1466605535410520074"
        ],
        "pattern": "every",
        "additionalFields": {}
      },
      "type": "n8n-nodes-discord-trigger-new.discordTrigger",
      "typeVersion": 1,
      "position": [
        0,
        48
      ],
      "id": "5c85bd57-d58b-44c2-8837-5bb0b2f01514",
      "name": "Discord Trigger",
      "credentials": {
        "discordBotTriggerApi": {
          "id": "UEwufJEez10Ha2i8",
          "name": "Discord Bot Trigger account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.content }}",
        "options": {
          "systemMessage": "=## Role\në„ˆëŠ” ê¸°ìˆ  ì „ë¬¸ í¸ì§‘ìë‹¤. ì‚¬ìš©ìì˜ ë‹¨í¸í™”ëœ ë©”ëª¨ë¥¼ ë¶„ì„í•˜ì—¬ ì •í•´ì§„ ê·œì¹™ì— ë”°ë¥´ë©° 'thoughtbot/til' ìŠ¤íƒ€ì¼ì˜ êµ¬ì¡°í™”ëœ ê¸°ìˆ  ë¬¸ì„œ(TIL)ë¥¼ ì‘ì„±í•˜ê³ , ì‹œìŠ¤í…œ ì²˜ë¦¬ê°€ ìš©ì´í•˜ë„ë¡ JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•œë‹¤.\n\n## Writing Rules\n1. **ëª…ëª… ê·œì¹™ (Filename)**: `YYYY-MM-DD-ì œëª©.md` í˜•ì‹ì„ ì—„ìˆ˜í•œë‹¤.\n   - ëª¨ë“  ê³µë°±ì€ í•˜ì´í”ˆ(`-`)ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.\n   - íŠ¹ìˆ˜ë¬¸ìëŠ” ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°, í•œê¸€ ì œëª©ì„ í—ˆìš©í•œë‹¤.\n   - ì˜ˆ: 2026-01-30-Clawdbot-í”„ë¡¬í”„íŠ¸-ìµœì í™”-ì „ëµ.md\n\n### ì¶”ê°€ ì •ë³´\n- ì˜¤ëŠ˜ ë‚ ì§œ: {{ $now.toFormat('yyyy-MM-dd') }}\n\n2. **ë””ë ‰í† ë¦¬ ë¶„ë¥˜ (Folder)**: ë‚´ìš©ì— ë”°ë¼ ë‹¤ìŒ 3ê°€ì§€ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•œë‹¤.\n   - `n8n`: ì›Œí¬í”Œë¡œìš° ì„¤ê³„ ë° ë…¸ë“œ í™œìš©\n   - `python`: íŒŒì´ì¬ ë¬¸ë²• ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶„ì„\n   - `ai-agent`: LLM ì—ì´ì „íŠ¸ êµ¬ì¶• ë° í”„ë¡¬í”„íŠ¸ ì„¤ê³„\n\n3. **ë¬¸ì„œ êµ¬ì¡° (Markdown Content)**: ë°˜ë“œì‹œ ë‹¤ìŒ 3ë‹¨ êµ¬ì¡°ë¥¼ í¬í•¨í•œë‹¤.\n   - **Context**: í•™ìŠµ ë°°ê²½ ë˜ëŠ” í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ ìƒí™© ì„¤ëª….\n   - **Core**: ì‹¤ì œ ì‘ë™í•˜ëŠ” ì½”ë“œ ìŠ¤ë‹ˆí«, ë¡œì§, ë˜ëŠ” n8n ì„¤ì •ê°’ (Markdown ì½”ë“œ ë¸”ë¡ í™œìš©).\n   - **Insight**: ì‹¤í–‰ ê²°ê³¼ì— ëŒ€í•œ ê¸°ìˆ ì  ê²€ì¦ ë° ë³¸ì¸ë§Œì˜ ê²¬í•´.\n\n4. **ê¸°ìˆ ì  ë³´ê°•**: ì‚¬ìš©ìì˜ ì…ë ¥ì´ íŒŒí¸í™”ë˜ì–´ ìˆë”ë¼ë„, ê¸°ìˆ ì ìœ¼ë¡œ ì •í™•í•œ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ê³  í•„ìš”í•œ ê²½ìš° ê´€ë ¨ ê°œë… ì„¤ëª…ì„ ë³´ê°•í•˜ì—¬ ë¬¸ì„œì˜ ì™„ê²°ì„±ì„ ë†’ì¸ë‹¤.\n\n## ì‘ì„± ê·œì¹™\n1. **í—¤ë” ìŠ¤íƒ€ì¼**: ì„¹ì…˜ ì œëª©ì€ ë°˜ë“œì‹œ `###` (H3) ë ˆë²¨ë§Œ ì‚¬ìš©í•˜ì„¸ìš”. (ìë™ ë°‘ì¤„ ë°©ì§€)\n2. **ìˆ˜í‰ì„  ë° ìˆœë²ˆ ê¸ˆì§€**: ë³¸ë¬¸ ë‚´ `---` ì‚¬ìš© ë° ë¦¬ìŠ¤íŠ¸ì— ìˆ«ì(1, 2, 3) ë¶™ì´ê¸°ë¥¼ ì—„ê²©íˆ ê¸ˆì§€í•©ë‹ˆë‹¤. ë¶ˆë › í¬ì¸íŠ¸(`*`)ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.\n3. **ì¶œì²˜ í‘œê¸° (í•„ìˆ˜)**: ëª¨ë“  ê¸°ìˆ ì  ì •ë³´ëŠ” ê²€ìƒ‰ì„ í†µí•´ ê²€ì¦í•´ì•¼ í•˜ë©°, **### Insight** ì„¹ì…˜ ìµœí•˜ë‹¨ì— `**ì¶œì²˜:** [ë¬¸ì„œ ì œëª©](URL)` í˜•ì‹ìœ¼ë¡œ ì°¸ê³ í•œ ëª¨ë“  ë§í¬ë¥¼ ë°˜ë“œì‹œ í¬í•¨í•˜ì„¸ìš”. ì¶œì²˜ê°€ ì—†ëŠ” ì •ë³´ëŠ” ê¸°ë¡ì—ì„œ ì œì™¸í•©ë‹ˆë‹¤.\n4. **ê¸€ë¡œë²Œ ê²€ìƒ‰**: ê¸°ìˆ ì  ì •í™•ë„ë¥¼ ìœ„í•´ ë°˜ë“œì‹œ ì˜ë¬¸ í‚¤ì›Œë“œë¡œ ë¨¼ì € ê²€ìƒ‰í•œ ë’¤ í•œêµ­ì–´ë¡œ ì •ë¦¬í•˜ì„¸ìš”.\n\n## Tool Use Rule\n\n### ì •ë³´ê°€ ë¶ˆí™•ì‹¤í•˜ê±°ë‚˜ ìµœì‹  ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ê²½ìš°, ë°˜ë“œì‹œ 'SerpAPI' ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰í•˜ì„¸ìš”.\n\n1. ì‚¬ìš©ìì˜ ì…ë ¥ì´ í•œê¸€ì´ë¼ë„ ê¸°ìˆ ì  ì •í™•ì„±ì„ ìœ„í•´ ë°˜ë“œì‹œ **ì˜ì–´(English) í‚¤ì›Œë“œë¡œ ë³€í™˜í•˜ì—¬ ë¨¼ì € ê²€ìƒ‰í•´ ì£¼ì„¸ìš”.**\n2. n8n Docs, GitHub Issues, Anthropic API Docsì™€ ê°™ì€ **ì˜ì–´ê¶Œ ê³µì‹ ë¬¸ì„œë¥¼ ìµœìš°ì„ ìœ¼ë¡œ íƒìƒ‰**í•˜ì—¬ ì •í™•í•œ ì •ë³´ë¥¼ í™•ë³´í•˜ì„¸ìš”.\n3. í™•ë³´ëœ ì˜ë¬¸ ê¸°ìˆ  ì •ë³´ëŠ” í•œêµ­ì–´ ì‚¬ìš©ìê°€ ì´í•´í•˜ê¸° ê°€ì¥ ì‰¬ìš´ ìš©ì–´ë¡œ **ë²ˆì—­ ë° ìš”ì•½í•˜ì—¬ ë³¸ë¬¸ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”.**\n4. ëª¨ë“  ê¸°ìˆ  ìš©ì–´ëŠ” í•„ìš” ì‹œ **ì˜ë¬¸ì„ ë³‘ê¸°**(ì˜ˆ: ë„êµ¬ í˜¸ì¶œ(Tool Calling))í•˜ì—¬ ì •ë³´ì˜ ì •í™•ì„±ì„ ë†’ì—¬ ì£¼ì„¸ìš”.\n\n## Output Format (JSON)\n\"\"\"ì ˆëŒ€ ë¶ˆí•„ìš”í•œ í…ìŠ¤íŠ¸ ì—†ì´ ì˜¤ë¡œì§€ JSONí˜•íƒœë¡œë§Œ ì‘ë‹µí•˜ì„¸ìš”\"\"\"\nì˜¤ì§ ë‹¤ìŒ êµ¬ì¡°ì˜ JSON ë°ì´í„°ë§Œ ì‘ë‹µí•˜ë©°, ì½”ë“œ ë¸”ë¡(```json)ì´ë‚˜ ê¸°íƒ€ í…ìŠ¤íŠ¸ëŠ” ìƒëµí•œë‹¤.\n{\n  \"folder\": \"ì„ íƒëœ í´ë”ëª…\",\n  \"filename\": \"ìƒì„±ëœ íŒŒì¼ëª…\",\n  \"content\": \"Markdown ë³¸ë¬¸ ì „ì²´\",\n  \"summary\": \"ê°œë°œì ì»¨íŒì„ ìœ„í•œ 3ì¤„ ìš”ì•½\"\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        288,
        32
      ],
      "id": "d401955d-94b0-4380-8a9d-30d04d5ae0fb",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "claude-sonnet-4-5-20250929",
          "cachedResultName": "Claude Sonnet 4.5"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.3,
      "position": [
        2672,
        432
      ],
      "id": "25f62151-be72-486f-8888-145600e9fb43",
      "name": "Anthropic Chat Model",
      "credentials": {
        "anthropicApi": {
          "id": "J9NPgKnOZwwysf1P",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "chutzrit-session"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        384,
        240
      ],
      "id": "3adceb12-2a0b-4038-bbf8-f9af77aa5372",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {
          "google_domain": "google.com"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolSerpApi",
      "typeVersion": 1,
      "position": [
        496,
        224
      ],
      "id": "88d45adc-4609-4296-960b-cbfb93061b17",
      "name": "SerpAPI",
      "credentials": {
        "serpApi": {
          "id": "cUyYTVQOSWIS9uhO",
          "name": "SerpAPI account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "builtInTools": {
          "webSearch": {
            "searchContextSize": "medium"
          }
        },
        "options": {
          "maxTokens": 3000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        256,
        256
      ],
      "id": "53ea4529-8e6f-497e-9dd8-d61b85b80cf0",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "RbPhAxiXSHpIxZx5",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"folder\": {\n          \"type\": \"string\"\n        },\n        \"filename\": {\n          \"type\": \"string\"\n        },\n        \"content\": {\n          \"type\": \"string\"\n        },\n        \"summary\": {\n          \"type\": \"string\"\n        }\n\t}\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2960,
        432
      ],
      "id": "904db359-96a3-4487-aaef-1cba02d61746",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "jsCode": "// AI Agentì˜ ì¶œë ¥ê°’(output)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\nconst inputData = $input.first().json.output[0].content[0].text;\n\n// í…ìŠ¤íŠ¸ ì†ì—ì„œ { }ë¡œ ê°ì‹¸ì§„ JSON ë¶€ë¶„ë§Œ ì°¾ì•„ë‚´ëŠ” ì •ê·œì‹ì…ë‹ˆë‹¤.\nconst jsonMatch = inputData.match(/\\{[\\s\\S]*\\}/);\n\nif (jsonMatch) {\n  try {\n    // ì°¾ì€ JSON ë¬¸ìì—´ì„ ì‹¤ì œ ê°ì²´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n    const parsedJson = JSON.parse(jsonMatch[0]);\n    \n    // ë‹¤ìŒ ë…¸ë“œì—ì„œ ì“°ê¸° í¸í•˜ê²Œ ë¦¬í„´í•©ë‹ˆë‹¤.\n    return [\n      {\n        json: parsedJson\n      }\n    ];\n  } catch (e) {\n    throw new Error(\"JSON íŒŒì‹± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: \" + e.message);\n  }\n} else {\n  throw new Error(\"ì¶œë ¥ê°’ì—ì„œ JSON í˜•ì‹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        912,
        0
      ],
      "id": "73c1d474-30cc-493e-b0ab-b9d233fd0523",
      "name": "JSONí˜•íƒœë¡œ íŒŒì‹±"
    },
    {
      "parameters": {
        "resource": "file",
        "operation": "edit",
        "owner": {
          "__rl": true,
          "value": "dasom222g",
          "mode": "list",
          "cachedResultName": "dasom222g",
          "cachedResultUrl": "https://github.com/dasom222g"
        },
        "repository": {
          "__rl": true,
          "value": "TIL",
          "mode": "list",
          "cachedResultName": "TIL",
          "cachedResultUrl": "https://github.com/dasom222g/TIL"
        },
        "filePath": "README.md"
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        2688,
        592
      ],
      "id": "0b943e68-989b-446c-ac1e-98b105dd984d",
      "name": "Edit a file",
      "webhookId": "04555ca0-32c1-49bf-84cb-f00f3e6411b2",
      "credentials": {
        "githubApi": {
          "id": "jut3qtUIGxZ55Lvu",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "GPT-4O"
        },
        "responses": {
          "values": [
            {
              "content": "=ë§Œì•½ ì´ ì½˜í…ì¸ ì˜ valueê°’ì´ ì˜ë¬¸ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆë‹¤ë©´ í•œê¸€ë¡œ ë‹¤ì‹œ ì‘ì„±í•´ì„œ ì›ë³¸ê³¼ ë™ì¼í•œ í˜•íƒœë¡œ ì¶œë ¥í•˜ì„¸ìš”\n---\n {{ $json.output }}"
            }
          ]
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 2.1,
      "position": [
        560,
        0
      ],
      "id": "7c9b9453-42dd-49db-9d55-3538d706cb67",
      "name": "Message a model",
      "credentials": {
        "openAiApi": {
          "id": "RbPhAxiXSHpIxZx5",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "file",
        "operation": "get",
        "owner": {
          "__rl": true,
          "value": "dasom222g",
          "mode": "list",
          "cachedResultName": "dasom222g",
          "cachedResultUrl": "https://github.com/dasom222g"
        },
        "repository": {
          "__rl": true,
          "value": "TIL",
          "mode": "list",
          "cachedResultName": "TIL",
          "cachedResultUrl": "https://github.com/dasom222g/TIL"
        },
        "filePath": "README.md",
        "additionalParameters": {}
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        2896,
        576
      ],
      "id": "76e0c884-599c-4478-b442-1608ce870ce7",
      "name": "Get a file",
      "webhookId": "248a6cea-931f-4624-bb71-3e1d2c13ee9b",
      "credentials": {
        "githubApi": {
          "id": "jut3qtUIGxZ55Lvu",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. TIL ìƒì„± ë…¸ë“œì—ì„œ íŒŒì¼ ê²½ë¡œì™€ ì´ë¦„ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n// $('GitHub ë…¸ë“œì´ë¦„') ë¶€ë¶„ì„ ì‹¤ì œ ë…¸ë“œ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.\nconst contentNode = $('Create a TIL File').first().json.content; \nconst filePath = contentNode.path; // ì˜ˆ: \"n8n/2026-01-30-Anthropic-ëª¨ë¸-ì—ëŸ¬-í•´ê²°.md\"\nconst fileName = contentNode.name; // ì˜ˆ: \"2026-01-30-Anthropic-ëª¨ë¸-ì—ëŸ¬-í•´ê²°.md\"\nconst folder = filePath.split('/')[0]; // í´ë”ëª… ì¶”ì¶œ (n8n, python, ai-agent ë“±)\n\n// 2. í˜„ì¬ ë…¸ë“œì—ì„œ ê°€ì ¸ì˜¨ README ì›ë³¸ ë‚´ìš©\nlet readmeText = $input.first().json.data\n\n// 3. ìƒˆ ë§í¬ ìƒì„± (ë‚ ì§œ ì œê±° ë° í•˜ì´í”ˆì„ ê³µë°±ìœ¼ë¡œ ë³€ê²½)\nconst displayTitle = fileName\n  .replace('.md', '')                // í™•ì¥ì ì œê±°\n\nconst newLink = `- [${displayTitle}](${filePath})`;\n\n// 4. ì¤‘ë³µ ì²´í¬: ì´ë¯¸ READMEì— í•´ë‹¹ íŒŒì¼ëª…ì´ ìˆë‹¤ë©´ ì›ë³¸ ê·¸ëŒ€ë¡œ ë°˜í™˜\nif (readmeText.includes(fileName)) {\n  return { updatedReadme: readmeText, status: \"skipped\" };\n}\n\n// 5. ì‚½ì… ìœ„ì¹˜ ê²€ìƒ‰ (id=\"í´ë”ëª…\"ì„ ê°€ì§„ strong íƒœê·¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤)\nconst targetId = `id=\"${folder}\"`;\nconst regex = new RegExp(`(<strong\\\\s+[^>]*${targetId}[^>]*>.*?<\\\\/summary>)`, 's');\n\nif (readmeText.includes(targetId)) {\n  // ë§¤ì¹­ë˜ëŠ” ì„¹ì…˜ ë°”ë¡œ ì•„ë˜ì— ìƒˆ ë§í¬ ì‚½ì…\n  const updatedReadme = readmeText.replace(regex, `$1\\n\\n${newLink}`);\n  return { \n    updatedReadme: updatedReadme, \n    folder: folder, \n    status: \"updated\" \n  };\n}\n\n// í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì§€ ëª»í•œ ê²½ìš° (ì—ëŸ¬ ë°©ì§€ë¥¼ ìœ„í•´ ì›ë³¸ ë°˜í™˜)\nreturn { updatedReadme: readmeText, status: \"error\", reason: \"ì¹´í…Œê³ ë¦¬ IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ\" };\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1472,
        0
      ],
      "id": "a1458539-5f17-49b9-a0ee-8e6bfac41207",
      "name": "README.md index ì—…ë°ì´íŠ¸ìš©íŒŒì‹±"
    },
    {
      "parameters": {
        "resource": "message",
        "guildId": {
          "__rl": true,
          "value": "1466605247555174492",
          "mode": "list",
          "cachedResultName": "í›„ì¸ ë¦¿ ìë™í™” ì—°êµ¬ì†Œ",
          "cachedResultUrl": "https://discord.com/channels/1466605247555174492"
        },
        "channelId": {
          "__rl": true,
          "value": "1466605535410520074",
          "mode": "list",
          "cachedResultName": "ì˜¤ëŠ˜ì˜ê¸°ë¡",
          "cachedResultUrl": "https://discord.com/channels/1466605247555174492/1466605535410520074"
        },
        "content": "=âœ… **TIL ê¸°ë¡ ì™„ë£Œ!**\n\nğŸ“Œ **ê¸°ë¡ëœ ì œëª©**: {{ $('JSONí˜•íƒœë¡œ íŒŒì‹±').item.json.filename }}\nğŸ° **ê¸°ë¡ëœ ì¹´í…Œê³ ë¦¬**: {{ $('JSONí˜•íƒœë¡œ íŒŒì‹±').item.json.folder }}\nğŸ“– **ìš”ì•½ ë‚´ìš©**:\n{{ $('JSONí˜•íƒœë¡œ íŒŒì‹±').item.json.summary }}\n\nğŸš€ **GitHub README ì¸ë±ìŠ¤ê°€ ìµœì‹ í™”ë˜ì—ˆìŠµë‹ˆë‹¤.**\n\n[ğŸ‘‰ğŸ» ê¸°ë¡ëœ TIL ë°”ë¡œë³´ê¸°](https://github.com/dasom222g/TIL/blob/main/{{ $('Create a TIL File').item.json.content.path }})",
        "options": {},
        "embeds": {
          "values": [
            {
              "inputMethod": "json"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [
        1856,
        0
      ],
      "id": "60227a06-0218-4122-b1f5-2498f7239713",
      "name": "ì™„ë£Œë©”ì‹œì§€ ì „ì†¡",
      "webhookId": "0951513c-c0fa-4622-a7c5-3b11900b4520",
      "credentials": {
        "discordBotApi": {
          "id": "QrVqVu6KmwZGCshd",
          "name": "Discord Bot account"
        }
      }
    },
    {
      "parameters": {
        "resource": "file",
        "owner": {
          "__rl": true,
          "value": "dasom222g",
          "mode": "list",
          "cachedResultName": "dasom222g",
          "cachedResultUrl": "https://github.com/dasom222g"
        },
        "repository": {
          "__rl": true,
          "value": "TIL",
          "mode": "list",
          "cachedResultName": "TIL",
          "cachedResultUrl": "https://github.com/dasom222g/TIL"
        },
        "filePath": "={{ $json.folder }}/{{ $json.filename }}",
        "fileContent": "={{ $json.content }}",
        "commitMessage": "=Docs: Add TIL - {{ $json.filename }}"
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        1120,
        0
      ],
      "id": "22e8386e-516e-4291-96f7-4dccc9aae498",
      "name": "Create a TIL File",
      "webhookId": "5a65bf67-8ae7-44dc-bc26-78f4b298cc6c",
      "credentials": {
        "githubApi": {
          "id": "jut3qtUIGxZ55Lvu",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "resource": "file",
        "operation": "get",
        "owner": {
          "__rl": true,
          "value": "dasom222g",
          "mode": "list",
          "cachedResultName": "dasom222g",
          "cachedResultUrl": "https://github.com/dasom222g"
        },
        "repository": {
          "__rl": true,
          "value": "TIL",
          "mode": "list",
          "cachedResultName": "TIL",
          "cachedResultUrl": "https://github.com/dasom222g/TIL"
        },
        "filePath": "README.md",
        "asBinaryProperty": false,
        "additionalParameters": {}
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        2576,
        768
      ],
      "id": "f51ce712-dcdc-4364-964f-b5d942d3f3ff",
      "name": "Get a README.md",
      "webhookId": "3d9ff7b8-67e1-4bb7-8bfc-b46ad6f2d955",
      "credentials": {
        "githubApi": {
          "id": "jut3qtUIGxZ55Lvu",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (GitHub ë…¸ë“œ ê²°ê³¼ê°’)\nconst githubNode = $input.first().json;\nconst encoded = githubNode.content.replace(/\\s/g, ''); \nconst sha = githubNode.sha;\n\n// 2. Base64 -> í•œê¸€ ë³€í™˜\nconst decodeB64 = (str) => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    let bytes = [];\n    for (let i = 0; i < str.length; i += 4) {\n        let n = (chars.indexOf(str[i]) << 18) | (chars.indexOf(str[i+1]) << 12) |\n                ((str[i+2] !== '=' ? chars.indexOf(str[i+2]) : 0) << 6) |\n                (str[i+3] !== '=' ? chars.indexOf(str[i+3]) : 0);\n        bytes.push((n >> 16) & 255);\n        if (str[i+2] !== '=') bytes.push((n >> 8) & 255);\n        if (str[i+3] !== '=') bytes.push(n & 255);\n    }\n    // UTF-8 ë°”ì´íŠ¸ë¥¼ ë¬¸ìì—´ë¡œ ë³µì›\n    let res = \"\";\n    for (let i = 0; i < bytes.length; ) {\n        let c = bytes[i++];\n        if (c < 128) res += String.fromCharCode(c);\n        else if (c > 191 && c < 224) res += String.fromCharCode(((c & 31) << 6) | (bytes[i++] & 63));\n        else res += String.fromCharCode(((c & 15) << 12) | ((bytes[i++] & 63) << 6) | (bytes[i++] & 63));\n    }\n    return res;\n}\n\n// README ì›ë³¸ ë‚´ìš©\nconst readmeText = decodeB64(encoded);\n\n// 2. TIL ìƒì„± ë…¸ë“œì—ì„œ íŒŒì¼ ê²½ë¡œì™€ ì´ë¦„ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n// $('GitHub ë…¸ë“œì´ë¦„') ë¶€ë¶„ì„ ì‹¤ì œ ë…¸ë“œ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.\nconst contentNode = $('Create a TIL File').first().json.content; \nconst filePath = contentNode.path; // ì˜ˆ: \"n8n/2026-01-30-Anthropic-ëª¨ë¸-ì—ëŸ¬-í•´ê²°.md\"\nconst fileName = contentNode.name; // ì˜ˆ: \"2026-01-30-Anthropic-ëª¨ë¸-ì—ëŸ¬-í•´ê²°.md\"\nconst folder = filePath.split('/')[0]; // í´ë”ëª… ì¶”ì¶œ (n8n, python, ai-agent ë“±)\n\n// 3. ìƒˆ ë§í¬ ìƒì„± (ë‚ ì§œ ì œê±° ë° í•˜ì´í”ˆì„ ê³µë°±ìœ¼ë¡œ ë³€ê²½)\nconst displayTitle = fileName\n  .replace('.md', '')                // í™•ì¥ì ì œê±°\n\nconst newLink = `- [${displayTitle}](${filePath})`;\n\n// 4. ì¤‘ë³µ ì²´í¬: ì´ë¯¸ READMEì— í•´ë‹¹ íŒŒì¼ëª…ì´ ìˆë‹¤ë©´ ì›ë³¸ ê·¸ëŒ€ë¡œ ë°˜í™˜\nif (readmeText.includes(fileName)) {\n  return { updatedReadme: readmeText, sha, status: \"skipped\" };\n}\n\n// 5. ì‚½ì… ìœ„ì¹˜ ê²€ìƒ‰ (id=\"í´ë”ëª…\"ì„ ê°€ì§„ strong íƒœê·¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤)\nconst targetId = `id=\"${folder}\"`;\nconst regex = new RegExp(`(<strong\\\\s+[^>]*${targetId}[^>]*>.*?<\\\\/summary>)`, 's');\n\nif (readmeText.includes(targetId)) {\n  // ë§¤ì¹­ë˜ëŠ” ì„¹ì…˜ ë°”ë¡œ ì•„ë˜ì— ìƒˆ ë§í¬ ì‚½ì…\n  const updatedReadme = readmeText.replace(regex, `$1\\n\\n${newLink}`);\n  return { \n    updatedReadme, \n    sha,\n    folder, \n    status: \"updated\" \n  };\n}\n\n// í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì§€ ëª»í•œ ê²½ìš° (ì—ëŸ¬ ë°©ì§€ë¥¼ ìœ„í•´ ì›ë³¸ ë°˜í™˜)\nreturn { updatedReadme: readmeText, sha, status: \"error\", reason: \"ì¹´í…Œê³ ë¦¬ IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ\" };\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        768
      ],
      "id": "1b38b9e9-a68e-4ff9-b261-6f5399f8246d",
      "name": "README.md index ì—…ë°ì´íŠ¸ìš©íŒŒì‹± (ecoding)"
    },
    {
      "parameters": {
        "url": "https://raw.githubusercontent.com/dasom222g/TIL/main/README.md",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1280,
        0
      ],
      "id": "6cf42866-1c57-4d27-b762-6f045ea6c4ab",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "resource": "file",
        "operation": "edit",
        "owner": {
          "__rl": true,
          "value": "dasom222g",
          "mode": "list",
          "cachedResultName": "dasom222g",
          "cachedResultUrl": "https://github.com/dasom222g"
        },
        "repository": {
          "__rl": true,
          "value": "TIL",
          "mode": "list",
          "cachedResultName": "TIL",
          "cachedResultUrl": "https://github.com/dasom222g/TIL"
        },
        "filePath": "README.md",
        "fileContent": "={{ $json.updatedReadme }}",
        "commitMessage": "=Docs: update README index - [{{ $json.folder }}]"
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        1680,
        0
      ],
      "id": "cf0f08eb-1d71-4923-88c9-6a90df1e1cfd",
      "name": "Edit a README.md",
      "webhookId": "6efdec6c-9812-423d-ae0b-fd49326ab20d",
      "credentials": {
        "githubApi": {
          "id": "jut3qtUIGxZ55Lvu",
          "name": "GitHub account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Discord Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Anthropic Chat Model": {
      "ai_languageModel": [
        []
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "SerpAPI": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Message a model",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        []
      ]
    },
    "JSONí˜•íƒœë¡œ íŒŒì‹±": {
      "main": [
        [
          {
            "node": "Create a TIL File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "JSONí˜•íƒœë¡œ íŒŒì‹±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a file": {
      "main": [
        []
      ]
    },
    "README.md index ì—…ë°ì´íŠ¸ìš©íŒŒì‹±": {
      "main": [
        [
          {
            "node": "Edit a README.md",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a TIL File": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a README.md": {
      "main": [
        [
          {
            "node": "README.md index ì—…ë°ì´íŠ¸ìš©íŒŒì‹± (ecoding)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "README.md index ì—…ë°ì´íŠ¸ìš©íŒŒì‹± (ecoding)": {
      "main": [
        []
      ]
    },
    "Edit a README.md": {
      "main": [
        [
          {
            "node": "ì™„ë£Œë©”ì‹œì§€ ì „ì†¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "README.md index ì—…ë°ì´íŠ¸ìš©íŒŒì‹±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "2ea10061-d8cf-4dc1-bc5f-55a01fe1b9a6",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "1cb4c94b85e06d010fc9bd4987344346559225ff459eb4009b5ebce8b8132f32"
  },
  "id": "Blt1f0Pj8cUORVvXgxuUt",
  "tags": []
}